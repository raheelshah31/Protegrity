<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
      <meta name="description" content="">
      <meta name="author" content="">
      <link rel="icon" href="../../favicon.ico">
      <title>Protegrity Web Template</title>
      <!-- Bootstrap core CSS -->
      <link href="/css/bootstrap.min.css" rel="stylesheet">
      <!-- Custom styles for this template -->
      <link href="/css/sticky-footer-navbar.css" rel="stylesheet">
      <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
      <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
      <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
   </head>
   <style type="text/css">
      body{
      background-color: #eee;
      font-size: 15px
      }
      .middle{
      text-align: center;
      }
      .thumbnail{
      //border: 1px solid grey;
      }
      #clock{
      cursor: pointer;
      font: 20px bold;
      }
      .footer{
      vertical-align: middle;
      text-align: center;
      color: grey;
      font: 30px bold;
      }
   </style>
   <body onload="updateClock()">
      <!-- Fixed navbar -->
      <nav class="navbar navbar-inverse navbar-default navbar-fixed-top">
         <div class="container">
            <div class="navbar-header">
               <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
               <span class="sr-only">Toggle navigation</span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               </button>
               <img src="images/logo.jpg" class="img">
            </div>
            <div id="navbar" class="collapse navbar-collapse">
               <ul class="nav navbar-nav">
                  <li><i class="fa fa-bolt" style="color:white"></i><a href="#" class="navItem" id="wthr">Weather</a></li>
                  <li class="dropdown">
                     <a  href="#" class="dropdown-toggle " data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Clock<span class="caret"></span></a>
                     <ul class="dropdown-menu">
                        <li><a href="#" class="navItem" id="ldt">Local Date and Time</a></li>
                        <li><a href="#" class="navItem" id="pct">Pretty Current Time</a></li>
                     </ul>
                  </li>
                  <li><a href="#contact" class="navItem" id="usr">Users</a></li>
               </ul>
            </div>
            <!--/.nav-collapse -->
         </div>
      </nav>
      <!-- Begin page content -->
      <div class="container">
         <div id="weather"class="jumbotron">
            <div class="container">
               <div class="row welcomeNav">
                  <div class="col-sm-6 col-md-4 middle">
                  </div>
                  <div class="col-sm-6 col-md-4 middle ">
                     <div class="thumbnail " >
                        <p></p>
                        <p></p>
                        <p>Welcome to the demo page created for Protegrity.The objective here is to achieve the following:<br>
                           Create simple page using:<br>
                           1. Client style: Boostrap<br>
                           2. Client scripting: jquery and Knockout.js<br>
                           <label class="label-success">Click on the above Navbar elements to experience awesomeness!!</label>
                        </p>
                     </div>
                  </div>
               </div>
               <div class="col-sm-6 col-md-4 middle">
               </div>
            </div>
            <div class="row weatherNav">
               <div class="col-sm-6 col-md-4 middle">
               </div>
               <div class="col-sm-6 col-md-4 middle">
                  <div class="thumbnail " >
                     <img src="images/nyc.jpg" class="img">
                     <div class="caption middle">
                        <select id="weatherCity" onchange="imageChange(this)">
                           <option value="nyc">New York</option>
                           <option value="london">London</option>
                           <option valiue="paris">Paris
                           <option>
                        </select>
                        <p class="weather"></p>
                        <p><a  onClick="getWeather(this)" class="btn btn-success middle" role="button">Get Weather</a> </p>
                     </div>
                  </div>
               </div>
               <div class="col-sm-6 col-md-4 middle">
               </div>
            </div>
            <div class="row clockNav">
               <div class="col-sm-6 col-md-4 middle">
               </div>
               <div class="col-sm-6 col-md-4 middle">
                  <div class="thumbnail " >
                     <img src="images/clock.png" class="img">
                     <div class="caption middle">
                        <p>Local Date and Time</p>
                        <span id="clock" onclick="updateClock()"></span>
                     </div>
                  </div>
               </div>
               <div class="col-sm-6 col-md-4 middle">
               </div>
            </div>
            <div class="row flipClockNav">
               <div class="col-sm-6 col-md-2 middle"></div>
               <div class="col-sm-6 col-md-8 middle">
                  <div class="thumbnail " >
                     <div class="caption middle">
                        <p>Pretty Current Time</p>
                        <span class="clock middle" onclick="updateClock()"></span>
                     </div>
                  </div>
               </div>
               <div class="col-sm-6 col-md-2 middle"></div>
            </div>
            <div class="row userNav">
               <div class="col-sm-6 col-md-2 middle"></div>
               <div class="col-sm-6 col-md-8 middle">
                  <div class="thumbnail " >
                     <form data-bind="submit:addItem">
                     <p>User Directory Using Knockout JS</p>
                     <input type="text" data-bind='value:itemToAdd, valueUpdate: "afterkeydown"'  placeholder="Enter Username"/>
                     <p></p>
                     <p><button type="submit"  class="btn btn-success" data-bind="enable: itemToAdd().length > 0">Add User</button>
                        <button  class="btn btn-success"data-bind="click: removeSelected, enable: selectedItems().length > 0">Remove User</button>
                     </p>
                     <p> Users List:</p>
                     <select multiple="multiple" height="5" data-bind="options:allItems, selectedOptions:selectedItems" style="width:200px"> </select>
                  </div>
               </div>
               <div class="col-sm-6 col-md-2 middle"></div>
            </div>
         </div>
      </div>
      </div>
      </div>
      </div>
      <footer class="footer">
         <div class="container">
            <p class="text-muted">Place sticky footer content here.</p>
         </div>
      </footer>
      <!-- Bootstrap core JavaScript
         ================================================== -->
      <!-- Placed at the end of the document so the pages load faster -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
      <script src="/js/bootstrap.min.js"></script>
      <link rel="stylesheet" href="/js/flipclock.css">
      <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
      <script src="/js/flipclock.js"></script>
      <script type='text/javascript' src='js/knockout-3.3.0.js'></script>
      <script type="text/javascript">

      //User List Add/Remove Functionality 
         var BetterListModel = function () {
             this.itemToAdd = ko.observable("");
             this.allItems = ko.observableArray(["Raheel", "Rohit", "Yash", "Vijay"]); // Initial items
             this.selectedItems = ko.observableArray(["Ham"]);                                // Initial selection
          
             this.addItem = function () {
                 if ((this.itemToAdd() != "") && (this.allItems.indexOf(this.itemToAdd()) < 0)) // Prevent blanks and duplicates
                     this.allItems.push(this.itemToAdd());
                 this.itemToAdd(""); // Clear the text box
             };
          
             this.removeSelected = function () {
                 this.allItems.removeAll(this.selectedItems());
                 this.selectedItems([]); // Clear selection
             };
          
            
         };
          
         ko.applyBindings(new BetterListModel());
         //Clock Functionality
             $(document).ready(function() {
                $(".row").hide();
                $(".welcomeNav").show("slow")
               $(".navItem").click(function(){
                     $(".row").hide();
                     if($(this).attr("id")=="wthr"){
                       $(".weatherNav").show("slow")
                     }else if($(this).attr("id")=="ldt"){
                       $(".clockNav").show("slow")
                     }else if($(this).attr("id")=="pct"){
                       $(".flipClockNav").show("slow")
                     }else if($(this).attr("id")=="usr"){
                       $(".userNav").show("slow")
                     }
                   });
                 var date = new Date();
         
                 clock = $('.clock').FlipClock(date, {
                   clockFace: 'TwelveHourClock'
                 });
               });
             function updateClock(){
             $("#clock").html(Date())
           }


           //Weather Functionality
             function getWeather(elem){
              
               $.ajax({
           method: "POST",
           url: "http://api.openweathermap.org/data/2.5/weather?q="+$("#weatherCity").val(),
         })
           .done(function( msg ) {
             $(elem).parent().parent().find(".weather").html(" <label>Wind </label><br><span class='label label-primary'>Speed :"+msg.wind.speed+" </span>&nbsp;<span class='label label-primary'>Deg :"+msg.wind.deg );
           });
             }
             function imageChange(elem){
               $(".weather").html("");
               $(elem).parent().parent().find(".img").attr("src","/images/"+$( elem ).val()+".jpg")
             }


             //Footer Color Change Functionality
             var color=["white", "#6633FF", "#FFFF66","#33FF66"];  //Web Safe colors
             var colorName=["white", "blue", "yellow","green"];
             var count=0;
            setInterval(function(){ 
           
             $(".footer").css("background-color",color[count]) 
             if(count<3){
                $(".footer").html("<span style='text-align:center'>Next Color to be updated after 5 Seconds :"+colorName[count+1]+"</span>")
               count++;
             }else if(count==3){
               $(".footer").html("<span style='text-align:center'>Next Color to be updated after 5 Seconds :"+colorName[0]+"</span>")
               count++;
             }else{
               count=0;
             }
             }, 5000);
             
      </script>
   </body>
</html>